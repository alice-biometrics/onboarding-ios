name: ci

on:
  release:
    types: [published]
  push:
    paths:
      - '.github/workflows/ci.yml'

jobs:
  ci:
    runs-on: macOS-11
    steps:
    - uses: actions/checkout@v1
    - name: Pod install
      working-directory: AliceOnboardingSampleApp/
      run: |
         pod install --repo-update
    - name: Tests [UI Test]
      working-directory: AliceOnboardingSampleApp/
      run: |
         xcodebuild -workspace AliceOnboardingSampleApp.xcworkspace  -scheme AliceOnboardingSampleApp  -sdk iphonesimulator -destination 'platform=iOS Simulator,name=iPhone 8,OS=14.4'  test
